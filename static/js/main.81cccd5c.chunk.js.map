{"version":3,"sources":["components/groceryitem.component.jsx","components/grocerylist.component.jsx","components/additem.component.jsx","pages/groceries.page.jsx","App.js","reportWebVitals.js","graphql/resolvers.js","graphql/item.utils.js","index.js"],"names":["DELETE_ITEM","gql","UPDATE_COMPLETED","UPDATE_ORDERED","GroceryItem","value","name","id","completed","ordered","useMutation","deleteItem","updateCompletedItem","updateOrderedItem","useState","checked","setChecked","labelId","ListItem","role","undefined","dense","button","onClick","currentIndex","indexOf","newChecked","push","splice","ListItemIcon","Checkbox","edge","tabIndex","disableRipple","inputProps","variables","_id","then","window","location","reload","ListItemText","style","fontWeight","textDecoration","primary","ListItemSecondaryAction","IconButton","aria-label","confirm","useStyles","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","GroceryList","items","classes","List","className","Card","variant","Container","map","item","key","ADD_ITEM","GET_SHOPS","AddItem","data","useQuery","addItem_API","newitem","setNewitem","selected","setSelected","options","shops","shop","label","onSubmit","event","selecteditems","length","shopID","selectedshop","alert","preventDefault","Grid","container","spacing","xs","sm","TextField","required","fullWidth","autoComplete","onChange","target","labelledBy","Button","color","type","GET_ITEMS","Groceries","filterData","existingshop","setDataItems","filter","loading","error","dataShops","localStorage","getItem","selectedShop","setSelectedShop","dataItems","useEffect","paddingTop","Paper","Select","setItem","MenuItem","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","typeDefs","resolvers","Mutation","addItem","_root","cache","newItems","itemToAdd","find","console","log","utils_addItems","readQuery","query","writeQuery","httpLink","createHttpLink","uri","InMemoryCache","client","ApolloClient","link","res","ReactDOM","render","document","getElementById"],"mappings":"k9BAcA,IAAMA,EAAcC,IAAH,KAQXC,EAAmBD,IAAH,KAQhBE,EAAiBF,IAAH,KAQL,SAASG,EAAT,GAAwD,IAqC/CC,EArCcC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,GAAIC,EAAsB,EAAtBA,UAAWC,EAAW,EAAXA,QAAW,EAC/CC,YAAYV,GAA1BW,EAD6D,sBAEtCD,YAAYR,GAAnCU,EAF6D,sBAGxCF,YAAYP,GAAjCU,EAH6D,sBAItCC,mBAAS,CAAC,IAJ4B,mBAI7DC,EAJ6D,KAIpDC,EAJoD,KAkD9DC,EAAO,8BAA0BV,GAEvC,OACE,eAACW,EAAA,EAAD,CAAmBC,UAAMC,EAAWC,OAAK,EAACC,QAAM,EAACC,SAhB7BlB,EAgBmDE,EAhBzC,WAC9B,IAAMiB,EAAeT,EAAQU,QAAQpB,GAC/BqB,EAAU,YAAOX,IAED,IAAlBS,EACFE,EAAWC,KAAKtB,GAEhBqB,EAAWE,OAAOJ,EAAc,GAGlCR,EAAWU,KAMX,UACE,cAACG,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,KAAK,QACLhB,SAAkC,IAAzBA,EAAQU,QAAQlB,GACzByB,UAAW,EACXC,eAAa,EACbC,WAAY,CAAE,kBAAmBjB,GACjCM,QA1CgB,WACtBX,EAAoB,CAClBuB,UAAW,CACTC,IAAK7B,EACLC,WAAYA,KAEb6B,MAAK,kBAAMC,OAAOC,SAASC,iBAuC5B,cAACC,EAAA,EAAD,CACEC,MAAO,CACLC,WAAY,OACZC,eAAgBpC,GAAaC,EAAU,eAAiB,QAE1DF,GAAIU,EACJ4B,QAASvC,IAQX,eAACwC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CAAYxB,QAnDI,WACpBV,EAAkB,CAChBsB,UAAW,CACTC,IAAK7B,EACLE,SAAUA,KAEX4B,MAAK,kBAAMC,OAAOC,SAASC,aA6CUT,KAAK,MAAMiB,aAAW,UAA1D,SACE,cAAC,IAAD,MAEF,cAACD,EAAA,EAAD,CAAYxB,QA5EK,WACCe,OAAOW,QAC3B,+CAGAtC,EAAW,CACTwB,UAAW,CACTC,IAAK7B,KAEN8B,MAAK,kBAAMC,OAAOC,SAASC,aAmEST,KAAK,MAAMiB,aAAW,SAA3D,SACE,cAAC,IAAD,WA9BSzC,G,+BCtFb2C,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,MAAO,OACPC,SAAU,IACVC,gBAAiBJ,EAAMK,QAAQC,WAAWC,WAmB/BC,EAfK,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACfC,EAAUZ,IAChB,OACE,cAACa,EAAA,EAAD,CAAMC,UAAWF,EAAQT,KAAzB,SACE,cAACY,EAAA,EAAD,CAAMC,QAAQ,WAAd,SACE,cAACC,EAAA,EAAD,UACGN,EAAMO,KAAI,SAACC,GACV,OAAO,wBAACjE,EAAD,2BAAiBiE,GAAjB,IAAuBC,IAAKD,EAAK9D,gB,weCbpD,IAAMgE,EAAWtE,IAAH,KAaRuE,EAAYvE,IAAH,KAqFAwE,EAvEC,WAAO,IACbC,EAASC,YAASH,GAAlBE,KADY,EAEEhE,YAAY6D,GAA3BK,EAFa,sBAGU9D,mBAAS,IAHnB,mBAGb+D,EAHa,KAGJC,EAHI,OAIYhE,qBAJZ,mBAIbiE,EAJa,KAIHC,EAJG,KA8BdC,EAAUP,EACZA,EAAKQ,MAAMd,KAAI,SAACe,GACd,MAAO,CAAEC,MAAOD,EAAK7E,KAAMD,MAAO8E,EAAK5E,OAEzC,CAAE6E,MAAO,UAAW/E,MAAO,KAE/B,OACE,8BACE,sBAAMgF,SA5BW,SAACC,GACpB,IAAiBC,EAIbR,GAAYA,EAASS,OAAS,GAChCZ,EAAY,CACVzC,UAAW,CACT7B,KAAMuE,EACNY,QARWF,EAQOR,EAPfQ,EAAcnB,KAAI,SAACsB,GAAD,OAAkBA,EAAarF,aASrDgC,MAAK,kBAAMC,OAAOC,SAASC,YAE9BsC,EAAW,KAEXa,MAAM,iBAGRL,EAAMM,kBAUJ,SACE,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,UACE,cAACF,EAAA,EAAD,CAAMxB,MAAI,EAAC2B,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACC,EAAA,EAAD,CACE7F,MAAOwE,EACPsB,UAAQ,EACR5F,GAAG,UACHD,KAAK,UACL8E,MAAM,eACNgB,WAAS,EACTC,aAAa,aACbC,SA3CS,SAAChB,GACpBR,EAAWQ,EAAMiB,OAAOlG,YA6ClB,cAACwF,EAAA,EAAD,CAAMxB,MAAI,EAAC2B,GAAI,GAAIC,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhB,QAASA,EACT5E,MAAO0E,EACPuB,SAAUtB,EACVwB,WAAY,aAGhB,cAACX,EAAA,EAAD,CAAMxB,MAAI,EAAC2B,GAAI,GAAIC,GAAI,EAAvB,SACE,cAACQ,EAAA,EAAD,CAAQvC,QAAQ,YAAYwC,MAAM,UAAUC,KAAK,SAAjD,gC,qWCxFZ,IAAMC,EAAY3G,IAAH,KAeTuE,EAAYvE,IAAH,KAiHA4G,EAxGG,WAChB,IAAMC,EAAa,SAACzG,GAClB,GAAIqE,GAAQrE,EAAO,CACjB,IAAI0G,EAAe,KAEjBC,EADY,MAAV3G,EACWqE,EAAKb,MAGhBa,EAAKb,MAAMoD,QAAO,SAAC5C,GAIjB,OAHIA,EAAKc,OACP4B,EAAe1C,EAAKc,KAAK8B,QAAO,SAAC9B,GAAD,OAAUA,EAAK5E,KAAOF,MAEjD0G,EAAavB,OAAS,EAAInB,EAAO,WAZ5B,EAmBWM,YAASiC,GAAlClC,EAnBc,EAmBdA,KAAMwC,EAnBQ,EAmBRA,QAASC,EAnBD,EAmBCA,MAGjBC,EAFWzC,YAASH,GAECE,KAtBL,EAuBkB5D,mBACtCuG,aAAaC,QAAQ,gBACjBD,aAAaC,QAAQ,gBACrB,IA1BgB,mBAuBfC,EAvBe,KAuBDC,EAvBC,OA6BU1G,qBA7BV,mBA6BjB2G,EA7BiB,KA6BNT,EA7BM,KAuCtB,GATAU,qBAAU,WACRZ,EACEO,aAAaC,QAAQ,gBACjBD,aAAaC,QAAQ,gBACrB,QAGL,CAAC5C,IAEAwC,EAAS,OAAO,2CACpB,GAAIC,EAAO,OAAO,sCAClB,IAAKzC,EAAM,OAAO,0CAEdA,IAAS+C,GACXT,EAAatC,EAAKb,OASpB,OACE,qBAAKnB,MAAO,CAAEiF,WAAY,MAA1B,SACE,cAACxD,EAAA,EAAD,UACE,eAACyD,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,CACE5G,QAAQ,eACRV,GAAG,SACHF,MAAOkH,EACPjB,SAdW,SAAChB,GACpBkC,EAAgBlC,EAAMiB,OAAOlG,OAC7BgH,aAAaS,QAAQ,eAAgBxC,EAAMiB,OAAOlG,OAClDyG,EAAWxB,EAAMiB,OAAOlG,QAOlB,UAME,cAAC0H,EAAA,EAAD,CAAU1H,MAAM,IAAhB,iBACC+G,EACCA,EAAUlC,MAAMd,KAAI,SAACe,GAAD,OAClB,cAAC4C,EAAA,EAAD,CAAwB1H,MAAO8E,EAAK5E,GAApC,SACG4E,EAAK7E,MADO6E,EAAK5E,OAKtB,cAACwH,EAAA,EAAD,CAAU1H,MAAO,EAAjB,wBAGJ,eAAC8D,EAAA,EAAD,WACE,cAAC,EAAD,IACA,uCACA,cAAC,EAAD,CACEN,MACE4D,EACIA,EAAUR,QAAO,SAAC5C,GAAD,OAAWA,EAAK7D,YAAc6D,EAAK5D,WACpDgH,OAKV,+CACA,cAAC,EAAD,CACE5D,MACE4D,EAAYA,EAAUR,QAAO,SAAC5C,GAAD,OAAUA,EAAK5D,UAAY4D,EAAK7D,aAAaiH,IAG9E,4CACA,cAAC,EAAD,CACE5D,MACE4D,EAAYA,EAAUR,QAAO,SAAC5C,GAAD,OAAUA,EAAK7D,aAAaiH,YChHxDO,OAVf,WACE,OACE,qBAAKhE,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACE,cAAC,EAAD,SCIOiE,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB9F,MAAK,YAAkD,IAA/C+F,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,4RCHP,IAAMO,GAAWxI,IAAH,MAMf2G,GAAY3G,IAAH,MAMFyI,GAAY,CACrBC,SAAU,CACRC,QAAS,SAACC,EAAD,KAAiC,IAAvBxE,EAAsB,EAAtBA,KAAUyE,EAAY,EAAZA,MAKrBC,ECvBgB,SAAClF,EAAOmF,GAKlC,OAJqBnF,EAAMoF,MACvB,SAAA5E,GAAI,OAAGA,EAAK/D,OAAS0I,EAAU1I,SAI/B4I,QAAQC,IAAI,yBACLtF,GAEL,GAAN,mBAAWA,GAAX,CAAkBmF,IDcGI,CAJCN,EAAMO,UAAU,CAChCC,MAAO1C,KADD/C,MAI+BQ,GAMvC,OALAyE,EAAMS,WAAW,CACfD,MAAO1C,GACPlC,KAAM,CAAEb,MAAOkF,KAGVA,K,4NEff,IAAMS,GAAWC,aAAe,CAC9BC,IAA2E,sDAIvEZ,GAAQ,IAAIa,KAEZC,GAAS,IAAIC,KAAa,CAC9BC,KAAMN,GACNV,SACAL,YACAC,eAQFkB,GAAON,MAAM,CACXA,MAAOrJ,IAAF,QAeJoC,MAAK,SAAA0H,GAAG,OAAI,QAEfC,IAASC,OACP,cAAC,KAAD,CAAgBL,OAAUA,GAA1B,SACE,cAAC,GAAD,MAEFM,SAASC,eAAe,SAM1BlC,O","file":"static/js/main.81cccd5c.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport LocalShippingIcon from \"@material-ui/icons/LocalShipping\";\r\nimport {\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  Checkbox,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport gql from \"graphql-tag\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\n\r\nconst DELETE_ITEM = gql`\r\n  mutation deleteItem($_id: String!) {\r\n    deleteItem(_id: $_id) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPDATE_COMPLETED = gql`\r\n  mutation updateCompletedItem($_id: String!, $completed: Boolean!) {\r\n    updateCompletedItem(_id: $_id, completed: $completed) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst UPDATE_ORDERED = gql`\r\n  mutation updateOrderedItem($_id: String!, $ordered: Boolean!) {\r\n    updateOrderedItem(_id: $_id, ordered: $ordered) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function GroceryItem({ name, id, completed, ordered }) {\r\n  const [deleteItem] = useMutation(DELETE_ITEM);\r\n  const [updateCompletedItem] = useMutation(UPDATE_COMPLETED);\r\n  const [updateOrderedItem] = useMutation(UPDATE_ORDERED);\r\n  const [checked, setChecked] = useState([0]);\r\n\r\n  const deletethisitem = () => {\r\n    const deleteConfirm = window.confirm(\r\n      \"Are you sure you want to delete this item?\"\r\n    );\r\n    if (deleteConfirm) {\r\n      deleteItem({\r\n        variables: {\r\n          _id: id,\r\n        },\r\n      }).then(() => window.location.reload());\r\n    }\r\n  };\r\n\r\n  const markascompleted = () => {\r\n    updateCompletedItem({\r\n      variables: {\r\n        _id: id,\r\n        completed: !completed,\r\n      },\r\n    }).then(() => window.location.reload());\r\n  };\r\n\r\n  const markasordered = () => {\r\n    updateOrderedItem({\r\n      variables: {\r\n        _id: id,\r\n        ordered: !ordered,\r\n      },\r\n    }).then(() => window.location.reload());\r\n  };\r\n\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const labelId = `checkbox-list-label-${id}`;\r\n\r\n  return (\r\n    <ListItem key={id} role={undefined} dense button onClick={handleToggle(id)}>\r\n      <ListItemIcon>\r\n        <Checkbox\r\n          edge=\"start\"\r\n          checked={checked.indexOf(id) !== -1}\r\n          tabIndex={-1}\r\n          disableRipple\r\n          inputProps={{ \"aria-labelledby\": labelId }}\r\n          onClick={markascompleted}\r\n        />\r\n      </ListItemIcon>\r\n      <ListItemText\r\n        style={{\r\n          fontWeight: \"bold\",\r\n          textDecoration: completed || ordered ? \"line-through\" : \"none\",\r\n        }}\r\n        id={labelId}\r\n        primary={name}\r\n      />\r\n      {/* {shop\r\n        ? shop.map((shop, key) => {\r\n            return <ListItemText id={key} key={key} primary={shop.name} />;\r\n          })\r\n        : null} */}\r\n\r\n      <ListItemSecondaryAction>\r\n        <IconButton onClick={markasordered} edge=\"end\" aria-label=\"ordered\">\r\n          <LocalShippingIcon />\r\n        </IconButton>\r\n        <IconButton onClick={deletethisitem} edge=\"end\" aria-label=\"delete\">\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n  );\r\n}\r\n","import GroceryItem from \"./groceryitem.component\";\r\nimport { Card, Container } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst GroceryList = ({ items }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <List className={classes.root}>\r\n      <Card variant=\"outlined\">\r\n        <Container>\r\n          {items.map((item) => {\r\n            return <GroceryItem {...item} key={item.id}></GroceryItem>;\r\n          })}\r\n        </Container>\r\n      </Card>\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default GroceryList;\r\n","import React, { useState } from \"react\";\r\nimport MultiSelect from \"react-multi-select-component\";\r\n// import Shops from \"../mock-db/shop\";\r\nimport { Button, Grid, TextField } from \"@material-ui/core\";\r\nimport gql from \"graphql-tag\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\n\r\nconst ADD_ITEM = gql`\r\n  mutation addItem_API($name: String!, $shopID: [String]) {\r\n    addItem_API(name: $name, shopID: $shopID) {\r\n      id\r\n      name\r\n      shop {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_SHOPS = gql`\r\n  query getShops {\r\n    shops {\r\n      id\r\n      name\r\n\r\n      item {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst AddItem = () => {\r\n  const { data } = useQuery(GET_SHOPS);\r\n  const [addItem_API] = useMutation(ADD_ITEM);\r\n  const [newitem, setNewitem] = useState(\"\");\r\n  const [selected, setSelected] = useState();\r\n\r\n  const handleChange = (event) => {\r\n    setNewitem(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    let shoparray = (selecteditems) => {\r\n      return selecteditems.map((selectedshop) => selectedshop.value);\r\n    };\r\n\r\n    if (selected && selected.length > 0) {\r\n      addItem_API({\r\n        variables: {\r\n          name: newitem,\r\n          shopID: shoparray(selected),\r\n        },\r\n      }).then(() => window.location.reload());\r\n\r\n      setNewitem(\"\");\r\n    } else {\r\n      alert(\"Select a shop\");\r\n    }\r\n\r\n    event.preventDefault();\r\n  };\r\n  const options = data\r\n    ? data.shops.map((shop) => {\r\n        return { label: shop.name, value: shop.id };\r\n      })\r\n    : { label: \"Loading\", value: \"1\" };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={5}>\r\n            <TextField\r\n              value={newitem}\r\n              required\r\n              id=\"newitem\"\r\n              name=\"newitem\"\r\n              label=\"Add new item\"\r\n              fullWidth\r\n              autoComplete=\"given-name\"\r\n              onChange={handleChange}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <MultiSelect\r\n              options={options}\r\n              value={selected}\r\n              onChange={setSelected}\r\n              labelledBy={\"Select\"}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n              Add item\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Paper, Container, Select, MenuItem } from \"@material-ui/core\";\r\nimport GroceryList from \"../components/grocerylist.component\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\nimport AddItem from \"../components/additem.component\";\r\n\r\nconst GET_ITEMS = gql`\r\n  query getItems {\r\n    items {\r\n      id\r\n      name\r\n      completed\r\n      ordered\r\n      shop {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_SHOPS = gql`\r\n  query getShops {\r\n    shops {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst Groceries = () => {\r\n  const filterData = (value) => {\r\n    if (data && value) {\r\n      let existingshop = null;\r\n      if (value === \"0\") {\r\n        setDataItems(data.items);\r\n      } else {\r\n        setDataItems(\r\n          data.items.filter((item) => {\r\n            if (item.shop) {\r\n              existingshop = item.shop.filter((shop) => shop.id === value);\r\n            }\r\n            return existingshop.length > 0 ? item : null;\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const { data, loading, error } = useQuery(GET_ITEMS);\r\n  const getshops = useQuery(GET_SHOPS);\r\n\r\n  const dataShops = getshops.data;\r\n  const [selectedShop, setSelectedShop] = useState(\r\n    localStorage.getItem(\"selectedshop\")\r\n      ? localStorage.getItem(\"selectedshop\")\r\n      : \"\"\r\n  );\r\n\r\n  let [dataItems, setDataItems] = useState();\r\n  useEffect(() => {\r\n    filterData(\r\n      localStorage.getItem(\"selectedshop\")\r\n        ? localStorage.getItem(\"selectedshop\")\r\n        : null\r\n    );\r\n    // eslint-disable-next-line\r\n  }, [data]);\r\n\r\n  if (loading) return <p>loading...</p>;\r\n  if (error) return <p>ERROR</p>;\r\n  if (!data) return <p>Not found</p>;\r\n\r\n  if (data && !dataItems) {\r\n    setDataItems(data.items);\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    setSelectedShop(event.target.value);\r\n    localStorage.setItem(\"selectedshop\", event.target.value);\r\n    filterData(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingTop: \"5%\" }}>\r\n      <Container>\r\n        <Paper>\r\n          <Select\r\n            labelId=\"select-label\"\r\n            id=\"select\"\r\n            value={selectedShop}\r\n            onChange={handleChange}\r\n          >\r\n            <MenuItem value=\"0\">All</MenuItem>\r\n            {dataShops ? (\r\n              dataShops.shops.map((shop) => (\r\n                <MenuItem key={shop.id} value={shop.id}>\r\n                  {shop.name}\r\n                </MenuItem>\r\n              ))\r\n            ) : (\r\n              <MenuItem value={1}>Loading</MenuItem>\r\n            )}\r\n          </Select>\r\n          <Container>\r\n            <AddItem></AddItem>\r\n            <h1>ITEMS</h1>\r\n            <GroceryList\r\n              items={\r\n                dataItems\r\n                  ? dataItems.filter((item) => !item.completed && !item.ordered)\r\n                  : dataItems\r\n              }\r\n            ></GroceryList>\r\n          </Container>\r\n\r\n          <h1>ORDERED ITEMS</h1>\r\n          <GroceryList\r\n            items={\r\n              dataItems ? dataItems.filter((item) => item.ordered && !item.completed) : dataItems\r\n            }\r\n          ></GroceryList>\r\n          <h1>DONE ITEMS</h1>\r\n          <GroceryList\r\n            items={\r\n              dataItems ? dataItems.filter((item) => item.completed) : dataItems\r\n            }\r\n          ></GroceryList>\r\n        </Paper>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Groceries;\r\n","//import './App.css';\nimport Groceries from './pages/groceries.page';\n\n\nfunction App() {  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Groceries></Groceries>  \n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { gql } from \"apollo-boost\";\r\nimport { utils_addItems } from \"./item.utils\";\r\n\r\n\r\nexport const typeDefs = gql `\r\n    extend type Mutation {\r\n        AddItem(item: Item!): [Item]\r\n    }\r\n`;\r\n\r\nconst GET_ITEMS = gql`\r\n  {\r\n    items @client\r\n  }\r\n`;\r\n\r\nexport const resolvers = {\r\n    Mutation: {     \r\n      addItem: (_root, { item }, { cache }) => {\r\n        const { items } = cache.readQuery({\r\n          query: GET_ITEMS\r\n        });\r\n  \r\n        const newItems = utils_addItems(items, item);\r\n        cache.writeQuery({\r\n          query: GET_ITEMS,\r\n          data: { items: newItems }\r\n        });\r\n  \r\n        return newItems;\r\n      }\r\n    }\r\n  };","export const utils_addItems = (items, itemToAdd) => {    \r\n    const existingItem = items.find(\r\n        item=> item.name === itemToAdd.name\r\n    );\r\n\r\n    if(existingItem){        \r\n        console.log(\"Item is already added\")\r\n        return items;        \r\n    }\r\n    return [...items, itemToAdd];\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport {ApolloProvider} from 'react-apollo';\r\nimport {createHttpLink} from 'apollo-link-http';\r\nimport {InMemoryCache} from 'apollo-cache-inmemory';\r\nimport {ApolloClient, gql} from 'apollo-boost';\r\n\r\nimport {resolvers, typeDefs} from './graphql/resolvers';\r\n\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: process.env.NODE_ENV===\"development\"? 'http://localhost:4000/graphql':'https://grocery-list-louise.herokuapp.com/graphql'\r\n  \r\n});\r\n\r\nconst cache = new InMemoryCache();\r\n\r\nconst client = new ApolloClient({\r\n  link: httpLink,\r\n  cache, \r\n  typeDefs,\r\n  resolvers\r\n});\r\n\r\n// client.writeData({\r\n//   data: {\r\n//     items: []\r\n//   }\r\n// })\r\nclient.query({\r\n  query: gql`\r\n  {\r\n    \r\n      items\r\n      {\r\n        id\r\n        name    \r\n        shop{\r\n          id\r\n          name      \r\n        }\r\n      }\r\n    \r\n  }\r\n  `\r\n}).then(res => null);\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client = {client}>    \r\n    <App />  \r\n  </ApolloProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}