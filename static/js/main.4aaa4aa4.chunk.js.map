{"version":3,"sources":["components/groceryitem.component.jsx","components/grocerylist.component.jsx","components/additem.component.jsx","pages/groceries.page.jsx","App.js","reportWebVitals.js","graphql/resolvers.js","graphql/item.utils.js","index.js"],"names":["DELETE_ITEM","gql","GroceryItem","value","name","id","shop","useMutation","deleteItem","useState","checked","setChecked","deletethisitem","variables","_id","then","window","location","reload","labelId","ListItem","role","undefined","dense","button","onClick","currentIndex","indexOf","newChecked","push","splice","ListItemIcon","Checkbox","edge","tabIndex","disableRipple","inputProps","ListItemText","style","fontWeight","color","primary","map","key","ListItemSecondaryAction","IconButton","aria-label","useStyles","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","GroceryList","items","classes","List","className","Card","variant","Container","item","ADD_ITEM","GET_SHOPS","AddItem","data","useQuery","addItem_API","newitem","setNewitem","selected","setSelected","options","shops","label","onSubmit","event","selecteditems","shopID","selectedshop","preventDefault","Grid","container","spacing","xs","sm","TextField","required","fullWidth","autoComplete","onChange","target","labelledBy","Button","type","GET_ITEMS","Groceries","filterData","existingshop","setDataItems","filter","length","loading","error","dataShops","localStorage","getItem","selectedShop","setSelectedShop","dataItems","useEffect","paddingTop","Paper","Select","setItem","MenuItem","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","typeDefs","resolvers","Mutation","addItem","_root","cache","newItems","itemToAdd","find","console","log","utils_addItems","readQuery","query","writeQuery","httpLink","createHttpLink","uri","InMemoryCache","client","ApolloClient","link","res","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4aaa4aa4.chunk.js","sourcesContent":["import { useState } from \"react\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport {\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  Checkbox,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport gql from \"graphql-tag\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\n\r\nconst DELETE_ITEM = gql`\r\n  mutation deleteItem($_id: String!) {\r\n    deleteItem(_id: $_id) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function GroceryItem({ name, id, shop }) {\r\n  const [deleteItem] = useMutation(DELETE_ITEM);\r\n  const [checked, setChecked] = useState([0]);\r\n\r\n  const deletethisitem = () => {\r\n    deleteItem({\r\n      variables: {\r\n        _id: id,\r\n      },\r\n    }).then(() => window.location.reload());\r\n  };\r\n\r\n  const handleToggle = (value) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const labelId = `checkbox-list-label-${id}`;\r\n\r\n  return (\r\n    <ListItem key={id} role={undefined} dense button onClick={handleToggle(id)}>\r\n      <ListItemIcon>\r\n        <Checkbox\r\n          edge=\"start\"\r\n          checked={checked.indexOf(id) !== -1}\r\n          tabIndex={-1}\r\n          disableRipple\r\n          inputProps={{ \"aria-labelledby\": labelId }}\r\n          onClick={deletethisitem}\r\n        />\r\n      </ListItemIcon>\r\n      <ListItemText\r\n        style={{ fontWeight: \"bold\", color: \"red\" }}\r\n        id={labelId}\r\n        primary={name}\r\n      />\r\n      {shop\r\n        ? shop.map((shop, key) => {\r\n            return <ListItemText id={key} key={key} primary={shop.name} />;\r\n          })\r\n        : null}\r\n\r\n      <ListItemSecondaryAction>\r\n        <IconButton onClick={deletethisitem} edge=\"end\" aria-label=\"delete\">\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </ListItemSecondaryAction>\r\n    </ListItem>\r\n  );\r\n}\r\n","import GroceryItem from \"./groceryitem.component\";\r\nimport { Card, Container } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nconst GroceryList = ({ items }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <List className={classes.root}>\r\n      <Card variant=\"outlined\">\r\n        <Container>\r\n          {items.map((item) => {\r\n            return <GroceryItem {...item} key={item.id}></GroceryItem>;\r\n          })}\r\n        </Container>\r\n      </Card>\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default GroceryList;\r\n","import React, { useState } from \"react\";\r\nimport MultiSelect from \"react-multi-select-component\";\r\n// import Shops from \"../mock-db/shop\";\r\nimport { Button, Grid, TextField } from \"@material-ui/core\";\r\nimport gql from \"graphql-tag\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\n\r\nconst ADD_ITEM = gql`\r\n  mutation addItem_API($name: String!, $shopID: [String]) {\r\n    addItem_API(name: $name, shopID: $shopID) {\r\n      id\r\n      name\r\n      shop {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_SHOPS = gql`\r\n  query getShops {\r\n    shops {\r\n      id\r\n      name\r\n\r\n      item {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst AddItem = () => {\r\n  const { data } = useQuery(GET_SHOPS);\r\n  const [addItem_API] = useMutation(ADD_ITEM);\r\n  const [newitem, setNewitem] = useState(\"\");\r\n  const [selected, setSelected] = useState();\r\n\r\n  const handleChange = (event) => {\r\n    setNewitem(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    let shoparray = (selecteditems) => {\r\n      return selecteditems.map((selectedshop) => selectedshop.value);\r\n    };\r\n    addItem_API({\r\n      variables: {\r\n        name: newitem,\r\n        shopID: shoparray(selected),\r\n      },\r\n    }).then(() => window.location.reload());\r\n\r\n    setNewitem(\"\");\r\n    event.preventDefault();\r\n  };\r\n  const options = data\r\n    ? data.shops.map((shop) => {\r\n        return { label: shop.name, value: shop.id };\r\n      })\r\n    : { label: \"Loading\", value: \"1\" };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={5}>\r\n            <TextField\r\n              value={newitem}\r\n              required\r\n              id=\"newitem\"\r\n              name=\"newitem\"\r\n              label=\"Add new item\"\r\n              fullWidth\r\n              autoComplete=\"given-name\"\r\n              onChange={handleChange}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <MultiSelect\r\n              options={options}\r\n              value={selected}\r\n              onChange={setSelected}\r\n              labelledBy={\"Select\"}\r\n            />\r\n          </Grid>\r\n\r\n          {/* <pre>{JSON.stringify(selected)}</pre> */}\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n              Add item\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddItem;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Paper, Container, Select, MenuItem } from \"@material-ui/core\";\r\nimport GroceryList from \"../components/grocerylist.component\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\nimport AddItem from \"../components/additem.component\";\r\n\r\nconst GET_ITEMS = gql`\r\n  query getItems {\r\n    items {\r\n      id\r\n      name\r\n      shop {\r\n        id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst GET_SHOPS = gql`\r\n  query getShops {\r\n    shops {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst Groceries = () => {\r\n  const filterData = (value) => {\r\n    if (data && value) {\r\n      let existingshop = null;\r\n      if (value === \"0\") {\r\n        setDataItems(data.items);\r\n      } else {\r\n        setDataItems(\r\n          data.items.filter((item) => {\r\n            if (item.shop) {\r\n              existingshop = item.shop.filter((shop) => shop.id === value);\r\n            }\r\n            return existingshop.length > 0 ? item : null;\r\n          })\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const { data, loading, error } = useQuery(GET_ITEMS);\r\n  const getshops = useQuery(GET_SHOPS);\r\n\r\n  const dataShops = getshops.data;\r\n  const [selectedShop, setSelectedShop] = useState(\r\n    localStorage.getItem(\"selectedshop\")\r\n      ? localStorage.getItem(\"selectedshop\")\r\n      : \"\"\r\n  );\r\n\r\n  let [dataItems, setDataItems] = useState();\r\n  useEffect(() => {\r\n    filterData(\r\n      localStorage.getItem(\"selectedshop\")\r\n        ? localStorage.getItem(\"selectedshop\")\r\n        : null\r\n    );\r\n    // eslint-disable-next-line\r\n  }, [data]);\r\n\r\n  if (loading) return <p>loading...</p>;\r\n  if (error) return <p>ERROR</p>;\r\n  if (!data) return <p>Not found</p>;\r\n\r\n  if (data && !dataItems) {\r\n    setDataItems(data.items);\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    setSelectedShop(event.target.value);\r\n    localStorage.setItem(\"selectedshop\", event.target.value);\r\n    filterData(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div style={{ paddingTop: \"5%\" }}>\r\n      <Container>\r\n        <Paper>\r\n          <Select\r\n            labelId=\"select-label\"\r\n            id=\"select\"\r\n            value={selectedShop}\r\n            onChange={handleChange}\r\n          >\r\n            <MenuItem value=\"0\">All</MenuItem>\r\n            {dataShops ? (\r\n              dataShops.shops.map((shop) => (\r\n                <MenuItem key={shop.id} value={shop.id}>\r\n                  {shop.name}\r\n                </MenuItem>\r\n              ))\r\n            ) : (\r\n              <MenuItem value={1}>Loading</MenuItem>\r\n            )}\r\n          </Select>\r\n          <Container>\r\n            <AddItem></AddItem>\r\n            <GroceryList items={dataItems}></GroceryList>\r\n          </Container>\r\n        </Paper>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Groceries;\r\n","//import './App.css';\nimport Groceries from './pages/groceries.page';\n\n\nfunction App() {  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Groceries></Groceries>  \n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { gql } from \"apollo-boost\";\r\nimport { utils_addItems } from \"./item.utils\";\r\n\r\n\r\nexport const typeDefs = gql `\r\n    extend type Mutation {\r\n        AddItem(item: Item!): [Item]\r\n    }\r\n`;\r\n\r\nconst GET_ITEMS = gql`\r\n  {\r\n    items @client\r\n  }\r\n`;\r\n\r\nexport const resolvers = {\r\n    Mutation: {     \r\n      addItem: (_root, { item }, { cache }) => {\r\n        const { items } = cache.readQuery({\r\n          query: GET_ITEMS\r\n        });\r\n  \r\n        const newItems = utils_addItems(items, item);\r\n        cache.writeQuery({\r\n          query: GET_ITEMS,\r\n          data: { items: newItems }\r\n        });\r\n  \r\n        return newItems;\r\n      }\r\n    }\r\n  };","export const utils_addItems = (items, itemToAdd) => {    \r\n    const existingItem = items.find(\r\n        item=> item.name === itemToAdd.name\r\n    );\r\n\r\n    if(existingItem){        \r\n        console.log(\"Item is already added\")\r\n        return items;        \r\n    }\r\n    return [...items, itemToAdd];\r\n\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport {ApolloProvider} from 'react-apollo';\r\nimport {createHttpLink} from 'apollo-link-http';\r\nimport {InMemoryCache} from 'apollo-cache-inmemory';\r\nimport {ApolloClient, gql} from 'apollo-boost';\r\n\r\nimport {resolvers, typeDefs} from './graphql/resolvers';\r\n\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: process.env.NODE_ENV===\"development\"? 'http://localhost:4000/graphql':'https://grocery-list-louise.herokuapp.com/graphql'\r\n  \r\n});\r\n\r\nconst cache = new InMemoryCache();\r\n\r\nconst client = new ApolloClient({\r\n  link: httpLink,\r\n  cache, \r\n  typeDefs,\r\n  resolvers\r\n});\r\n\r\n// client.writeData({\r\n//   data: {\r\n//     items: []\r\n//   }\r\n// })\r\nclient.query({\r\n  query: gql`\r\n  {\r\n    \r\n      items\r\n      {\r\n        id\r\n        name    \r\n        shop{\r\n          id\r\n          name      \r\n        }\r\n      }\r\n    \r\n  }\r\n  `\r\n}).then(res => null);\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client = {client}>    \r\n    <App />  \r\n  </ApolloProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}